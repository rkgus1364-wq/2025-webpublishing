<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”„ë¡œì íŠ¸ ì„¸ë¶€ ì„¤ëª…</title>
    
    <!-- 1. CSS íŒŒì¼ ì—°ê²° (ë©”ì¸ í˜ì´ì§€ì™€ ë™ì¼í•œ style.css ì‚¬ìš©) -->
    <link rel="stylesheet" href="style.css">
    
    <!-- 2. Chart.js CDN (ê¸°ì—¬ë„ ì°¨íŠ¸ìš©) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>

    <!-- detail.html íŒŒì¼ì˜ <header> ë¶€ë¶„ ìˆ˜ì • -->
    <header class="responsive-header">
    <h1 id="detail-title">í”„ë¡œì íŠ¸ëª… ë¡œë”© ì¤‘...</h1>
    <p id="detail-subtitle">í”„ë¡œì íŠ¸ ì„¸ë¶€ ì„¤ëª…</p>
    </header>
    <!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ í—¤ë” ë°–ì— ë°°ì¹˜í•˜ì—¬ ìŠ¤íƒ€ì¼ì´ ê²¹ì¹˜ì§€ ì•Šê²Œ í•©ë‹ˆë‹¤. -->
<a href="index.html" class="back-btn">â† ëª©ë¡ìœ¼ë¡œ</a> 

<div class="detail-wrapper">
    <!-- ... ë³¸ë¬¸ ê·¸ë¦¬ë“œ ë‚´ìš© ìœ ì§€ ... -->
</div>
<!-- ... -->

    <div class="detail-wrapper">
        <!-- ìŠ¤ì¼€ì¹˜ ë ˆì´ì•„ì›ƒì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ ê·¸ë¦¬ë“œ êµ¬ì¡° -->
        <div class="layout-grid">
            
          <!-- 1. ì‘ì—…ë¬¼ ì‚¬ì§„ / PDF (ì¢Œì¸¡ ë©”ì¸ ì˜ì—­) -->
        <div class="box box-image">
         <!-- ğŸ–¼ ì´ë¯¸ì§€ìš© (PDF ì—†ì„ ë•Œ ì‚¬ìš©) -->
         <img id="detail-main-image" src="" alt="ë©”ì¸ ì‘ì—…ë¬¼ ì´ë¯¸ì§€">
        </div>



            <!-- 2. ê¸°íš ë° ì œì‘ ì˜ë„ (ìš°ì¸¡ ìƒë‹¨) -->
            <div class="box box-intention">
                <h3>ê¸°íš ë° ì œì‘ ì˜ë„</h3>
                <p id="detail-intention-text">ë°ì´í„° ë¡œë”© ì¤‘...</p>
            </div>

            <!-- 3. ì‚¬ìš© íˆ´ / ë˜ëŠ” ê¸°íš ë‚´ìš© ìƒì„¸ (íƒ€ì…ì— ë”°ë¼ ë‹¬ë¼ì§) -->
            <div class="box box-tools">
                 <h3 id="detail-tools-title">ì‚¬ìš© íˆ´</h3>
                <div id="detail-tools-content" class="tool-icons">
                </div>
            </div>

            <!-- 4. ê¸°ì—¬ë„ (ìš°ì¸¡ í•˜ë‹¨ - ì°¨íŠ¸) -->
            <div class="box box-contribution">
                <h3>ê¸°ì—¬ë„</h3>
                <div class="chart-wrapper">
                    <canvas id="contributionChartDetail"></canvas>
                    <div id="detail-contribution-percent" class="contribution-percent">0%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- â­ï¸ ìƒì„¸ í˜ì´ì§€ ì „ìš© JavaScript (ë°ì´í„° ë¡œë”© ë° ì°¨íŠ¸ ì‹¤í–‰) â­ï¸ -->
    <script>
                // â­ detail.html ì „ìš© JS ì½”ë“œ â­
        // - í”„ë¡œì íŠ¸ ìƒì„¸ ë°ì´í„°
        // - ê¸°ì—¬ë„ ì°¨íŠ¸ ë Œë”ë§
        // - URLì—ì„œ í”„ë¡œì íŠ¸ ID ì½ê¸°
        // - íƒ€ì…(ê¸°íš/ì œì‘)ì— ë”°ë¼ ë ˆì´ì•„ì›ƒ & ë‚´ìš© ë³€ê²½

        // 1. ìƒì„¸ í˜ì´ì§€ìš© í”„ë¡œì íŠ¸ ë°ì´í„°
        const detailProjectData = {
            "project1": {
                type: "production", // â­ ì œì‘/ë””ìì¸ íƒ€ì…
                title: "ì›¹ ë””ìì¸ ê¸°ì´ˆ",
                subtitle: "ì‚¬ìš©ì ê²½í—˜ ì¤‘ì‹¬ì˜ ë°˜ì‘í˜• ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶•",
                mainImageUrl: "https://placehold.co/700x500/E5DDD7/2E364F?text=WEB+DESIGN+PROJECT",
                difficulty: 1,
                contributionPercent: 60,
                intention: "ë””ìì¸ ì›ì¹™ê³¼ ì›¹ í¼ë¸”ë¦¬ì‹± ê¸°ìˆ ì˜ ê¸°ì´ˆë¥¼ ë‹¤ì§€ê¸° ìœ„í•œ ì‹¤ìŠµ í”„ë¡œì íŠ¸. ì›¹ í‘œì¤€ ë° ì ‘ê·¼ì„±ì„ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤.",
                tools: [
                    { name: "HTML5", icon: "https://placehold.co/40x40/2E364F/E5DDD7?text=H" },
                    { name: "CSS3", icon: "https://placehold.co/40x40/2E364F/E5DDD7?text=C" },
                ],
                contributionData: [
                    { label: "ë””ìì¸", value: 60, color: '#EF543E' },
                    { label: "í¼ë¸”ë¦¬ì‹±", value: 40, color: '#2E364F' }
                ]
            },
            "project2": {
                type: "planning",  // â­ ê¸°íš íƒ€ì… (ì—¬ê¸°ë§Œ ë ˆì´ì•„ì›ƒ/ë‚´ìš© ë‹¤ë¥´ê²Œ)
                title: "ë¸Œëœë“œ ì „ì‹œ ê¸°íš",
                subtitle: "ì„œìš¸ì¥ìˆ˜ ë¸Œëœë“œ íŒì—…í˜• ì „ì‹œ ê¸°íš ì „ë‹´",
                mainImageUrl: "./photo/ë¸Œëœë“œì „ì‹œ.png",  // PDF ì“°ë‹ˆê¹Œ ë¹„ì›Œë„ OK
                difficulty: 3,
                contributionPercent: 100,
                intention: "2030ì„¸ëŒ€ì™€ ì„œìš¸ì¥ìˆ˜ ë¸Œëœë“œì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì œì•ˆì˜ ì¼ë¶€ë¡œ ëŒ€í•™ ë‚´ ì„œìš¸ì¥ìˆ˜ ë¸Œëœë“œ í™ë³´ë¥¼ ìœ„í•œ ì „ì‹œ ê¸°íš",
                
                // â­ ê¸°íš ìƒì„¸ ë‚´ìš©: ë„¤ê°€ ì›í•˜ëŠ” í…ìŠ¤íŠ¸ë¡œ ë§ˆìŒê» ìˆ˜ì • ê°€ëŠ¥
                planningDetail: `
        - ì „ì‹œ íƒ€ê¹ƒ: í•œì–‘ëŒ€í•™êµì—ë¦¬ì¹´ ì¬í•™ìƒ
        - ëª©í‘œ: ë¸Œëœë“œ ì¸ì§€ë„ ì œê³  ë° ì¹œê·¼í•œ ì´ë¯¸ì§€ í˜•ì„±
        - í•µì‹¬ ì»¨ì…‰: 'ëŒ€í•™ìƒí™œ ì¤‘ ê°€ì¥ 'ìƒìƒ'í•œ ìˆœê°„'

        [ì „ì‹œ êµ¬ì„±]
        Â· ë¸Œëœë“œ íˆìŠ¤í† ë¦¬ ì¡´
        Â· êµ¿ì¦ˆì¡´
        Â· ì¸í„°ë™í‹°ë¸Œì¡´
        Â· êµ¿ì¦ˆì¡´
        Â· í¬í† ì¡´ ë° SNS ì¸ì¦ ì´ë²¤íŠ¸ (ë°©ëª…ë¡)

        [ë‹´ë‹¹ ì—­í• ]
        Â· ì „ì²´ ì „ì‹œ ê¸°íš ë° ë™ì„  ì„¤ê³„
        Â· ê³µê°„ êµ¬ì„± ë° ì½˜í…ì¸  êµ¬ì¡°í™”
        Â· í–‰ì‚¬ ìš´ì˜ í”Œë¡œìš° ê¸°íš
                `.trim(),

                // ê¸°íš í”„ë¡œì íŠ¸ì—ì„œëŠ” toolsëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (ë¹„ì›Œë‘¬ë„ ë¨)
                tools: [],
                contributionData: [
                    { label: "ê¸°íš", value: 80, color: '#EF543E' },
                    { label: "ë””ìì¸", value: 20, color: '#2E364F' }
                ]
            },
            "project3": {
                type: "production",
                title: "ì¼ì¼í˜¸í”„ í™ë³´ë¬¼ ì œì‘",
                subtitle: "ì„œìš¸ì¥ìˆ˜XCOMMAH ì¼ì¼í˜¸í”„ í™ë³´ë¬¼ ì œì‘",
                mainImageUrl: "./photo/ì¼ì¼í˜¸í”„.png",
                difficulty: 2,
                contributionPercent: 100,
                intention: "ì„œìš¸ì¥ìˆ˜ì˜ ëŒ€í•™ìƒê³¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ë•ê¸° ìœ„í•´ ì§„í–‰ëœ ì¼ì¼í˜¸í”„ì˜ í™ë³´ë¬¼ ì „ë°˜ì„ ì œì‘",
                tools: [
                    { name: "Illustrator", icon: "./photo/ì¼ëŸ¬.svg" },
                    { name: "Photoshop", icon: "./photo/í¬í† ìƒµ.png" },
                ],
                contributionData: [
                    { label: "í™ë³´ë¬¼ì œì‘", value: 80, color: '#EF543E' },
                    { label: "ë ˆí¼ëŸ°ìŠ¤ì¡°ì‚¬", value:20, color: '#2E364F' }
                ]
            },
            "project4": {
                type: "production",
                title: "ì•ˆì£¼ë§›ì§‘ì§€ë„",
                subtitle: "í•™êµ ì• ìƒê¶Œê³¼ ì½œë¼ë³´ ë§›ì§‘ì§€ë„ ì œì‘",
                mainImageUrl: "./photo/ì•ˆì£¼ë§›ì§‘ì§€ë„",
                difficulty: 1,
                contributionPercent: 100,
                intention: "ì„œìš¸ì¥ìˆ˜ ë§‰ê±¸ë¦¬ë¥¼ íŒë§¤ ì¤‘ì¸ í•™êµ ì• ìƒê¶Œê³¼ ì½œë¼ë³´í•œ ì•ˆì£¼ë§›ì§‘ì§€ë„ í™ë³´ë¬¼ ì œì‘",
                tools: [
                    { name: "Illustrator", icon: "./photo/ì¼ëŸ¬.svg" },
                ],
                contributionData: [
                    { label: "í™ë³´ë¬¼ì œì‘", value: 75, color: '#EF543E' },
                    { label: "ë ˆí¼ëŸ°ìŠ¤ì¡°ì‚¬", value: 25, color: '#2E364F' }
                ]
            },
            "project5": {
                type: "production",
                title: "í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘",
                subtitle: "ì „ì²´ ì‘ì—…ë¬¼ ì´ì •ë¦¬ ë° ì‚¬ì´íŠ¸ êµ¬ì¶•",
                mainImageUrl: "https://placehold.co/700x500/E5DDD7/2E364F?text=PORTFOLIO+SITE",
                difficulty: 3,
                contributionPercent: 100,
                intention: "2025ë…„ ê¸°íš ë° ì‘ì—…ë¬¼ ì •ë¦¬ë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶•",
                tools: [
                    { name: "VS Code", icon: "https://placehold.co/40x40/2E364F/E5DDD7?text=VS" },
                    { name: "HTML", icon: "https://placehold.co/40x40/2E364F/E5DDD7?text=H" },
                ],
                contributionData: [
                    { label: "ê¸°íš/ì œì‘", value: 100, color: '#EF543E' },
                    { label: "ì°¸ì—¬ë„", value: 0, color: '#2E364F' }
                ]
            }
        };


        // 2. Chart.js ë Œë”ë§ í•¨ìˆ˜ (Detail ì „ìš©)
        //    - ë„ë„› ì°¨íŠ¸ ì¤‘ì•™ì— í¼ì„¼íŠ¸ í‘œì‹œìš©
        function renderDetailChart(contributionData, percent) {
            const ctx = document.getElementById('contributionChartDetail').getContext('2d');
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [percent, 100 - percent],
                        backgroundColor: [contributionData[0].color, '#eee'],
                        borderWidth: 0,
                        cutout: '75%'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: false }, 
                        tooltip: { enabled: false } 
                    }
                }
            });
        }


        // 3. URLì—ì„œ í”„ë¡œì íŠ¸ IDë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ (ì˜ˆ: ?id=project2)
        function getProjectIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id') || "project1"; // id ì—†ìœ¼ë©´ ê¸°ë³¸ project1
        }


        // 4. íƒ€ì…ì— ë”°ë¼ ë ˆì´ì•„ì›ƒ + 'ì‚¬ìš© íˆ´' ë°•ìŠ¤ ë‚´ìš© ë³€ê²½
        function applyLayoutAndToolsByType(data) {
            const layoutGrid      = document.querySelector('.layout-grid');
            const toolsTitleEl    = document.getElementById('detail-tools-title');   // h3 ì œëª©
            const toolsContentEl  = document.getElementById('detail-tools-content'); // ë‚´ìš© ì˜ì—­

            if (!layoutGrid || !toolsTitleEl || !toolsContentEl) return;

            // ë¨¼ì € ë ˆì´ì•„ì›ƒ ê´€ë ¨ í´ë˜ìŠ¤ ì´ˆê¸°í™”
            layoutGrid.classList.remove('layout-planning', 'layout-production');

            if (data.type === 'planning') {
                // ğŸ”¹ ê¸°íš(Planning) íƒ€ì… --------------------------------
                layoutGrid.classList.add('layout-planning');

                // ì œëª©: 'ì‚¬ìš© íˆ´' â†’ 'ê¸°íš ë‚´ìš© ìƒì„¸'
                toolsTitleEl.textContent = 'ê¸°íš ë‚´ìš© ìƒì„¸';

                // ë‚´ìš©: ì•„ì´ì½˜ ëŒ€ì‹  í…ìŠ¤íŠ¸ë¡œ ì±„ìš°ê¸°
                toolsContentEl.innerHTML = '';

                // planningDetail ì—†ìœ¼ë©´ intentionìœ¼ë¡œ ëŒ€ì²´
                const detailText = data.planningDetail || data.intention;

                // ì¤„ë°”ê¿ˆ(\n)ì„ ì‹¤ì œ ì¤„ë°”ê¿ˆìœ¼ë¡œ ë³´ì´ê²Œ ì²˜ë¦¬
                toolsContentEl.innerHTML = `<p>${detailText.replace(/\n/g, '<br>')}</p>`;

            } else {
                // ğŸ”¹ ì œì‘/ë””ìì¸(Production) íƒ€ì… ------------------------
                layoutGrid.classList.add('layout-production');

                // ì œëª©: 'ì‚¬ìš© íˆ´'
                toolsTitleEl.textContent = 'ì‚¬ìš© íˆ´';

                // ë‚´ìš©: íˆ´ ì•„ì´ì½˜ ëª©ë¡ìœ¼ë¡œ ì±„ìš°ê¸°
                toolsContentEl.innerHTML = '';
                (data.tools || []).forEach(tool => {
                    toolsContentEl.innerHTML += `
                        <div class="tool-icon">
                            <img src="${tool.icon}" alt="${tool.name}">
                            <span>${tool.name}</span>
                        </div>
                    `;
                });
            }
        }


        // 5. í˜ì´ì§€ ë¡œë“œ ì‹œ ë°ì´í„° ì‚½ì…
        window.onload = function() {
            const projectId = getProjectIdFromUrl(); 
            const data = detailProjectData[projectId];

            if (data) {
                // ê¸°ë³¸ í…ìŠ¤íŠ¸ ì •ë³´ ì„¸íŒ…
                document.getElementById('detail-title').textContent = data.title;
                document.getElementById('detail-subtitle').textContent = data.subtitle;
                document.getElementById('detail-main-image').src = data.mainImageUrl;
                document.getElementById('detail-intention-text').textContent = data.intention;
                
                // ê¸°ì—¬ë„ ì°¨íŠ¸ ë° í¼ì„¼íŠ¸
                document.getElementById('detail-contribution-percent').textContent = data.contributionPercent + '%';
                renderDetailChart(data.contributionData, data.contributionPercent);
                
                // â­ íƒ€ì…ì— ë”°ë¼ ë ˆì´ì•„ì›ƒ + ì‚¬ìš©íˆ´/ê¸°íšìƒì„¸ ë°•ìŠ¤ ë‚´ìš© ì²˜ë¦¬
                applyLayoutAndToolsByType(data);

            } else {
                // ìœ íš¨í•˜ì§€ ì•Šì€ í”„ë¡œì íŠ¸ IDì¼ ë•Œ
                document.getElementById('detail-title').textContent = "í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
                document.getElementById('detail-subtitle').textContent = "ìœ íš¨í•˜ì§€ ì•Šì€ í”„ë¡œì íŠ¸ IDì…ë‹ˆë‹¤.";
            }
        };

    </script>
</body>
</html>